<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–µ—Ä–µ–¥–∞—á–∞ –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ Wi-Fi (—Ä—É—á–Ω–æ–π –æ–±–º–µ–Ω)</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #4a5568;
        }
        .section {
            margin-bottom: 25px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: #f7fafc;
        }
        h2 {
            color: #4a5568;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        .btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }
        .btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }
        .btn-success {
            background: #48bb78;
        }
        .btn-success:hover {
            background: #38a169;
        }
        .btn-danger {
            background: #f56565;
        }
        .btn-danger:hover {
            background: #e53e3e;
        }
        textarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
            resize: vertical;
            margin: 10px 0;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 16px;
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }
        .status-connecting {
            background: #fffaf0;
            color: #d69e2e;
            border: 2px solid #faf089;
        }
        .status-connected {
            background: #f0fff4;
            color: #38a169;
            border: 2px solid #9ae6b4;
        }
        .status-error {
            background: #fff5f5;
            color: #e53e3e;
            border: 2px solid #fc8181;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            word-break: break-all;
            margin: 10px 0;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .sound-btn {
            background: #9f7aea;
            padding: 20px;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            color: white;
        }
        .sound-btn:hover {
            background: #805ad5;
            transform: scale(1.1);
        }
        .instructions {
            background: #ebf8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #4299e1;
        }
        .instructions ol {
            margin-left: 20px;
        }
        .instructions li {
            margin-bottom: 8px;
        }
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            .btn {
                width: 100%;
                margin: 5px 0;
            }
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéµ –ü–µ—Ä–µ–¥–∞—á–∞ –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ Wi-Fi</h1>
        
        <div class="instructions">
            <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:</h3>
            <ol>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –¥–≤—É—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏</li>
                <li>–ù–∞ –ø–µ—Ä–≤–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"</li>
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (Offer) —Å –ø–µ—Ä–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤–æ –≤—Ç–æ—Ä–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"</li>
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç (Answer) —Å–æ –≤—Ç–æ—Ä–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç –≤ –ø–µ—Ä–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–Ω—è—Ç—å –æ—Ç–≤–µ—Ç"</li>
                <li>–ü–æ—Å–ª–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∑–≤—É–∫–∞</li>
            </ol>
        </div>

        <div class="section">
            <h2>1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º</h2>
            <div class="controls">
                <button id="createBtn" class="btn">–°–æ–∑–¥–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</button>
                <button id="disconnectBtn" class="btn btn-danger" disabled>–†–∞–∑–æ—Ä–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</button>
            </div>
        </div>

        <div class="section">
            <h2>2. –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</h2>
            
            <div id="offerSection" style="display: none;">
                <h3>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (Offer) - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –¥—Ä—É–≥–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É:</h3>
                <textarea id="offerOutput" readonly placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ..."></textarea>
                
                <h3>–û—Ç–≤–µ—Ç (Answer) - –≤—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:</h3>
                <textarea id="answerInput" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∑–¥–µ—Å—å..."></textarea>
                <button id="acceptAnswerBtn" class="btn btn-success">–ü—Ä–∏–Ω—è—Ç—å –æ—Ç–≤–µ—Ç</button>
            </div>

            <div id="answerSection" style="display: none;">
                <h3>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (Offer) - –≤—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:</h3>
                <textarea id="offerInput" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∑–¥–µ—Å—å..."></textarea>
                <button id="acceptOfferBtn" class="btn btn-success">–ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</button>
                
                <h3>–û—Ç–≤–µ—Ç (Answer) - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ:</h3>
                <textarea id="answerOutput" readonly placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ—Ç–≤–µ—Ç..."></textarea>
            </div>
        </div>

        <div class="section">
            <h2>3. –°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</h2>
            <div id="status" class="status">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div>
        </div>

        <div class="section">
            <h2>4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º</h2>
            <div class="controls">
                <button class="sound-btn" data-sound="beep">üîä</button>
                <button class="sound-btn" data-sound="alert">‚ö†Ô∏è</button>
                <button class="sound-btn" data-sound="chime">üîî</button>
                <button class="sound-btn" data-sound="success">‚úÖ</button>
            </div>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const createBtn = document.getElementById('createBtn');
        const disconnectBtn = document.getElementById('disconnectBtn');
        const offerSection = document.getElementById('offerSection');
        const answerSection = document.getElementById('answerSection');
        const offerOutput = document.getElementById('offerOutput');
        const offerInput = document.getElementById('offerInput');
        const answerOutput = document.getElementById('answerOutput');
        const answerInput = document.getElementById('answerInput');
        const acceptOfferBtn = document.getElementById('acceptOfferBtn');
        const acceptAnswerBtn = document.getElementById('acceptAnswerBtn');
        const status = document.getElementById('status');
        const soundButtons = document.querySelectorAll('.sound-btn');

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ WebRTC
        let peerConnection = null;
        let dataChannel = null;
        let isOfferer = false;

        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ICE —Å–µ—Ä–≤–µ—Ä–æ–≤ (–ø—É–±–ª–∏—á–Ω—ã–µ STUN —Å–µ—Ä–≤–µ—Ä—ã)
        const configuration = {
            iceServers: [
                { urls: 'stun:stun.l.google.com:19302' },
                { urls: 'stun:stun1.l.google.com:19302' },
                { urls: 'stun:stun2.l.google.com:19302' },
                { urls: 'stun:stun3.l.google.com:19302' },
                { urls: 'stun:stun4.l.google.com:19302' }
            ]
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
        function updateStatus(message, type = '') {
            status.textContent = message;
            status.className = `status ${type}`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        createBtn.addEventListener('click', async () => {
            try {
                isOfferer = true;
                peerConnection = new RTCPeerConnection(configuration);
                setupDataChannel();
                
                // –°–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö
                dataChannel = peerConnection.createDataChannel('soundChannel');
                setupDataChannelEvents();
                
                // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
                const offer = await peerConnection.createOffer();
                await peerConnection.setLocalDescription(offer);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                offerOutput.value = JSON.stringify(offer);
                offerSection.style.display = 'block';
                answerSection.style.display = 'none';
                
                updateStatus('–°–æ–∑–¥–∞–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–≥–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É.', 'status-connecting');
                createBtn.disabled = true;
                disconnectBtn.disabled = false;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:', error);
                updateStatus('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: ' + error.message, 'status-error');
            }
        });

        // –ü—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        acceptOfferBtn.addEventListener('click', async () => {
            try {
                if (!peerConnection) {
                    peerConnection = new RTCPeerConnection(configuration);
                    setupDataChannel();
                    
                    // –û–∂–∏–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞
                    peerConnection.ondatachannel = (event) => {
                        dataChannel = event.channel;
                        setupDataChannelEvents();
                    };
                }
                
                const offer = JSON.parse(offerInput.value);
                await peerConnection.setRemoteDescription(offer);
                
                // –°–æ–∑–¥–∞–µ–º –æ—Ç–≤–µ—Ç
                const answer = await peerConnection.createAnswer();
                await peerConnection.setLocalDescription(answer);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                answerOutput.value = JSON.stringify(answer);
                
                updateStatus('–°–æ–∑–¥–∞–Ω –æ—Ç–≤–µ—Ç. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä—É.', 'status-connecting');
                acceptOfferBtn.disabled = true;
                disconnectBtn.disabled = false;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:', error);
                updateStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: ' + error.message, 'status-error');
            }
        });

        // –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ç–≤–µ—Ç–∞
        acceptAnswerBtn.addEventListener('click', async () => {
            try {
                const answer = JSON.parse(answerInput.value);
                await peerConnection.setRemoteDescription(answer);
                
                updateStatus('–û—Ç–≤–µ—Ç –ø—Ä–∏–Ω—è—Ç. –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!', 'status-connected');
                acceptAnswerBtn.disabled = true;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Ç–≤–µ—Ç–∞:', error);
                updateStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Ç–≤–µ—Ç–∞: ' + error.message, 'status-error');
            }
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
        function setupDataChannel() {
            peerConnection.onicecandidate = (event) => {
                if (event.candidate) {
                    console.log('–ù–æ–≤—ã–π ICE –∫–∞–Ω–¥–∏–¥–∞—Ç:', event.candidate);
                }
            };
            
            peerConnection.onconnectionstatechange = () => {
                console.log('–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:', peerConnection.connectionState);
                if (peerConnection.connectionState === 'connected') {
                    updateStatus('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!', 'status-connected');
                } else if (peerConnection.connectionState === 'disconnected' || 
                          peerConnection.connectionState === 'failed') {
                    updateStatus('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ', 'status-error');
                }
            };
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–∞–Ω–∞–ª–∞ –¥–∞–Ω–Ω—ã—Ö
        function setupDataChannelEvents() {
            dataChannel.onopen = () => {
                console.log('–ö–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç');
                updateStatus('–ö–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–≤—É–∫!', 'status-connected');
            };
            
            dataChannel.onmessage = (event) => {
                playSound(event.data);
            };
            
            dataChannel.onclose = () => {
                console.log('–ö–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç');
                updateStatus('–ö–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç', 'status-error');
            };
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
        function playSound(soundType) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            switch(soundType) {
                case 'beep':
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    break;
                case 'alert':
                    oscillator.type = 'square';
                    oscillator.frequency.setValueAtTime(330, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    break;
                case 'chime':
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // –ù–æ—Ç–∞ –î–æ
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    break;
                case 'success':
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime); // –ù–æ—Ç–∞ –ú–∏
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    break;
            }
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start();
            setTimeout(() => {
                oscillator.stop();
                audioContext.close();
            }, 500);
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
        soundButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (dataChannel && dataChannel.readyState === 'open') {
                    const soundType = button.getAttribute('data-sound');
                    dataChannel.send(soundType);
                    playSound(soundType); // –¢–∞–∫–∂–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –ª–æ–∫–∞–ª—å–Ω–æ
                } else {
                    alert('–ö–∞–Ω–∞–ª –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–æ—Ç–æ–≤. –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.');
                }
            });
        });

        // –†–∞–∑—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        disconnectBtn.addEventListener('click', () => {
            if (dataChannel) {
                dataChannel.close();
            }
            if (peerConnection) {
                peerConnection.close();
            }
            peerConnection = null;
            dataChannel = null;
            
            offerSection.style.display = 'none';
            answerSection.style.display = 'none';
            createBtn.disabled = false;
            disconnectBtn.disabled = true;
            acceptOfferBtn.disabled = false;
            acceptAnswerBtn.disabled = false;
            
            updateStatus('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ');
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateStatus('–ì–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
    </script>
</body>
    </html>
