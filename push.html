<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Push Demo</title>
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
</head>
<body>
  <button id="sendPush">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É—à</button>

  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "2e324874-a45f-4a70-ac36-130ef8af56a7",
        safari_web_id: "web.onesignal.auto.0d123f70-12e5-49b1-a758-f1abcc853120",
      });

      // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
      const permission = await OneSignal.Notifications.requestPermission();
      console.log("–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:", permission);

      // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—É—à–∞ –ø–æ –∫–Ω–æ–ø–∫–µ
      document.getElementById("sendPush").onclick = async () => {
        await OneSignal.Notifications.showLocalNotification(
          "–ü—Ä–∏–≤–µ—Ç!",
          { body: "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ üöÄ" }
        );
      };
    });
  </script>
</body>
</html>
